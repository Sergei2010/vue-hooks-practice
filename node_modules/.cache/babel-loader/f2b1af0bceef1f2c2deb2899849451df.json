{"remainingRequest":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/babel-loader/lib/index.js!/Users/sergej/Documents/projects/practice/vue-hooks-practice/src/use/form.js","dependencies":[{"path":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/src/use/form.js","mtime":1618596442106},{"path":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9Vc2Vycy9zZXJnZWovRG9jdW1lbnRzL3Byb2plY3RzL3ByYWN0aWNlL3Z1ZS1ob29rcy1wcmFjdGljZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5lbnRyaWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgeyBjb21wdXRlZCwgcmVhY3RpdmUgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VGaWVsZCB9IGZyb20gIi4vZmllbGQiOwpleHBvcnQgZnVuY3Rpb24gdXNlRm9ybSgpIHsKICB2YXIgaW5pdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307CiAgdmFyIGZvcm0gPSByZWFjdGl2ZSh7fSk7CiAgdmFyIHZhbGlkS2V5ID0gJ3ZhbGlkJzsKCiAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhpbml0KTsgX2kgPCBfT2JqZWN0JGVudHJpZXMubGVuZ3RoOyBfaSsrKSB7CiAgICB2YXIgX09iamVjdCRlbnRyaWVzJF9pID0gX3NsaWNlZFRvQXJyYXkoX09iamVjdCRlbnRyaWVzW19pXSwgMiksCiAgICAgICAga2V5ID0gX09iamVjdCRlbnRyaWVzJF9pWzBdLAogICAgICAgIHZhbHVlID0gX09iamVjdCRlbnRyaWVzJF9pWzFdOwoKICAgIC8vY29uc29sZS5sb2coa2V5LCB2YWx1ZSkKICAgIGZvcm1ba2V5XSA9IHVzZUZpZWxkKHZhbHVlKTsKICB9CgogIHZhciB3aXRob3V0VmFsaWQgPSBmdW5jdGlvbiB3aXRob3V0VmFsaWQoaykgewogICAgcmV0dXJuIGsgIT09IHZhbGlkS2V5OwogIH07CgogIGZvcm1bdmFsaWRLZXldID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIE9iamVjdC5rZXlzKGZvcm0pLmZpbHRlcih3aXRob3V0VmFsaWQpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrKSB7CiAgICAgIGFjYyA9IGZvcm1ba10udmFsaWQ7CiAgICAgIHJldHVybiBhY2M7CiAgICB9LCB0cnVlKTsKICB9KTsKICByZXR1cm4gZm9ybTsKfQ=="},{"version":3,"sources":["/Users/sergej/Documents/projects/practice/vue-hooks-practice/src/use/form.js"],"names":["computed","reactive","useField","useForm","init","form","validKey","Object","entries","key","value","withoutValid","k","keys","filter","reduce","acc","valid"],"mappings":";;;;;AAAA,SAASA,QAAT,EAAmBC,QAAnB,QAAmC,KAAnC;AACA,SAASC,QAAT,QAAyB,SAAzB;AAEA,OAAO,SAASC,OAAT,GAA4B;AAAA,MAAXC,IAAW,uEAAJ,EAAI;AAC/B,MAAMC,IAAI,GAAGJ,QAAQ,CAAC,EAAD,CAArB;AACA,MAAMK,QAAQ,GAAG,OAAjB;;AAEA,qCAA0BC,MAAM,CAACC,OAAP,CAAeJ,IAAf,CAA1B,qCAAgD;AAAA;AAAA,QAArCK,GAAqC;AAAA,QAAhCC,KAAgC;;AAC5C;AACAL,IAAAA,IAAI,CAACI,GAAD,CAAJ,GAAYP,QAAQ,CAACQ,KAAD,CAApB;AAEH;;AAED,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,CAAC;AAAA,WAAIA,CAAC,KAAKN,QAAV;AAAA,GAAtB;;AAEAD,EAAAA,IAAI,CAACC,QAAD,CAAJ,GAAiBN,QAAQ,CAAC,YAAM;AAC5B,WAAOO,MAAM,CAACM,IAAP,CAAYR,IAAZ,EAAkBS,MAAlB,CAAyBH,YAAzB,EAAuCI,MAAvC,CAA8C,UAACC,GAAD,EAAMJ,CAAN,EAAY;AAC7DI,MAAAA,GAAG,GAAGX,IAAI,CAACO,CAAD,CAAJ,CAAQK,KAAd;AACA,aAAOD,GAAP;AACH,KAHM,EAGJ,IAHI,CAAP;AAIH,GALwB,CAAzB;AAOA,SAAOX,IAAP;AACH","sourcesContent":["import { computed, reactive } from 'vue'\nimport { useField } from \"./field\";\n\nexport function useForm(init = {}) {\n    const form = reactive({})\n    const validKey = 'valid'\n\n    for (const[key, value] of Object.entries(init)) {\n        //console.log(key, value)\n        form[key] = useField(value)\n\n    }\n\n    const withoutValid = k => k !== validKey\n\n    form[validKey] = computed(() => {\n        return Object.keys(form).filter(withoutValid).reduce((acc, k) => {\n            acc = form[k].valid\n            return acc\n        }, true)\n    })\n\n    return form\n}"]}]}