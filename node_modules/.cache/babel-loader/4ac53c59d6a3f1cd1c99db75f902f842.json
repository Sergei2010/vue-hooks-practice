{"remainingRequest":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/babel-loader/lib/index.js!/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/sergej/Documents/projects/practice/vue-hooks-practice/src/App.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/src/App.vue","mtime":1618599947138},{"path":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sergej/Documents/projects/practice/vue-hooks-practice/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCBvbkVycm9yQ2FwdHVyZWQgfSBmcm9tICd2dWUnOwppbXBvcnQgVXNlcnNMaXN0IGZyb20gJy4vY29tcG9uZW50cy9Vc2Vyc0xpc3QnOwppbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSAiQC91c2UvZm9ybSI7Cgp2YXIgcmVxdWlyZWQgPSBmdW5jdGlvbiByZXF1aXJlZCh2YWwpIHsKICByZXR1cm4gISF2YWw7Cn07Cgp2YXIgbWluTGVuZ3RoID0gZnVuY3Rpb24gbWluTGVuZ3RoKG51bSkgewogIHJldHVybiBmdW5jdGlvbiAodmFsKSB7CiAgICByZXR1cm4gdmFsLmxlbmd0aCA+PSBudW07CiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgc3VibWl0dGVkID0gcmVmKGZhbHNlKTsKICAgIHZhciBlcnJvciA9IHJlZigpOwogICAgdmFyIGZvcm0gPSB1c2VGb3JtKHsKICAgICAgZW1haWw6IHsKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgdmFsaWRhdG9yczogewogICAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICAgICAgfQogICAgICB9LAogICAgICBwYXNzd29yZDogewogICAgICAgIHZhbHVlOiAnJywKICAgICAgICB2YWxpZGF0b3JzOiB7CiAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQsCiAgICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg4KQogICAgICAgIH0KICAgICAgfQogICAgfSk7IC8vY29uc29sZS5sb2coZm9ybS5wYXNzd29yZCkKCiAgICBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdFbWFpbDonLCBmb3JtLmVtYWlsLnZhbHVlKTsKICAgICAgY29uc29sZS5sb2coJ1Bhc3N3b3JkOicsIGZvcm0ucGFzc3dvcmQudmFsdWUpOwogICAgICBzdWJtaXR0ZWQudmFsdWUgPSB0cnVlOwogICAgfQoKICAgIG9uRXJyb3JDYXB0dXJlZChmdW5jdGlvbiAoZSkgewogICAgICBlcnJvci52YWx1ZSA9IGUubWVzc2FnZTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgZm9ybTogZm9ybSwKICAgICAgc3VibWl0OiBzdWJtaXQsCiAgICAgIHN1Ym1pdHRlZDogc3VibWl0dGVkLAogICAgICBlcnJvcjogZXJyb3IKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBVc2Vyc0xpc3Q6IFVzZXJzTGlzdAogIH0KfTs="},{"version":3,"sources":["/Users/sergej/Documents/projects/practice/vue-hooks-practice/src/App.vue"],"names":[],"mappings":"AAyCA,SAAS,GAAT,EAAc,eAAd,QAAqC,KAArC;AACA,OAAO,SAAP,MAAsB,wBAAtB;AACA,SAAS,OAAT,QAAwB,YAAxB;;AAEA,IAAM,QAAO,GAAI,SAAX,QAAW,CAAA,GAAE;AAAA,SAAK,CAAC,CAAC,GAAP;AAAA,CAAnB;;AACA,IAAM,SAAQ,GAAI,SAAZ,SAAY,CAAA,GAAE;AAAA,SAAK,UAAA,GAAE;AAAA,WAAK,GAAG,CAAC,MAAJ,IAAc,GAAnB;AAAA,GAAP;AAAA,CAApB;;AAEA,eAAe;AACb,EAAA,KADa,mBACL;AACN,QAAM,SAAQ,GAAI,GAAG,CAAC,KAAD,CAArB;AACA,QAAM,KAAI,GAAI,GAAG,EAAjB;AACA,QAAM,IAAG,GAAI,OAAO,CAAC;AACnB,MAAA,KAAK,EAAE;AACL,QAAA,KAAK,EAAE,EADF;AAEL,QAAA,UAAU,EAAE;AAAC,UAAA,QAAQ,EAAR;AAAD;AAFP,OADY;AAKnB,MAAA,QAAQ,EAAE;AACR,QAAA,KAAK,EAAE,EADC;AAER,QAAA,UAAU,EAAE;AAAC,UAAA,QAAQ,EAAR,QAAD;AAAW,UAAA,SAAS,EAAE,SAAS,CAAC,CAAD;AAA/B;AAFJ;AALS,KAAD,CAApB,CAHM,CAcN;;AAEA,aAAS,MAAT,GAAkB;AAChB,MAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAsB,IAAI,CAAC,KAAL,CAAW,KAAjC;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,IAAI,CAAC,QAAL,CAAc,KAAvC;AACA,MAAA,SAAS,CAAC,KAAV,GAAkB,IAAlB;AACF;;AAEA,IAAA,eAAe,CAAC,UAAA,CAAA,EAAK;AACnB,MAAA,KAAK,CAAC,KAAN,GAAc,CAAC,CAAC,OAAhB;AACD,KAFc,CAAf;AAIA,WAAO;AAAE,MAAA,IAAI,EAAJ,IAAF;AAAQ,MAAA,MAAM,EAAN,MAAR;AAAgB,MAAA,SAAS,EAAT,SAAhB;AAA2B,MAAA,KAAI,EAAJ;AAA3B,KAAP;AACD,GA5BY;AA6Bb,EAAA,UAAU,EAAE;AAAE,IAAA,SAAQ,EAAR;AAAF;AA7BC,CAAf","sourcesContent":["<template>\n  <div class=\"container\">\n    <form class=\"card\" @submit.prevent=\"submit\">\n      <h1>Auth</h1>\n\n      <h3 v-if=\"error\">{{error}}</h3>\n\n<!--      <pre>{{form.email}}</pre>-->\n<!--      <pre>{{form.password}}</pre>-->\n<!--      <pre>{{form.valid}}</pre>-->\n\n      <div class=\"form-control\" :class=\"{invalid: !form.email.valid && form.email.touched}\">\n        <label for=\"email\">Email</label>\n        <input type=\"email\" id=\"email\" v-model=\"form.email.value\" @blur=\"form.email.blur\">\n        <small v-if=\"form.email.errors.required && form.email.touched\">Email field is required</small>\n      </div>\n\n      <div class=\"form-control\" :class=\"{invalid: !form.password.valid && form.password.touched}\">\n        <label for=\"password\">Password</label>\n        <input type=\"password\" id=\"password\" v-model=\"form.password.value\" @blur=\"form.password.blur\">\n        <small v-if=\"form.password.errors.required && form.password.touched\">Password field is required </small>\n        <small v-else-if=\"form.password.errors.minLength && form.password.touched\">\n          Password length can't be less than 8. Now it is {{form.password.value.length}}.\n        </small>\n      </div>\n\n      <button class=\"btn primary\" type=\"submit\" :disabled=\"!form.valid\">Submit</button>\n    </form>\n\n    <Suspense v-if=\"submitted\">\n      <UsersList />\n      <template #fallback>\n        <div class=\"loader\"></div>\n      </template>\n    </Suspense>\n\n  </div>\n\n</template>\n\n<script>\nimport { ref, onErrorCaptured } from 'vue'\nimport UsersList from './components/UsersList'\nimport { useForm } from \"@/use/form\"\n\nconst required = val => !!val\nconst minLength = num => val => val.length >= num\n\nexport default {\n  setup() {\n    const submitted = ref(false)\n    const error = ref()\n    const form = useForm({\n      email: {\n        value: '',\n        validators: {required}\n      },\n      password: {\n        value: '',\n        validators: {required, minLength: minLength(8)}\n      }\n    })\n\n    //console.log(form.password)\n\n    function submit() {\n      console.log('Email:', form.email.value)\n      console.log('Password:', form.password.value)\n      submitted.value = true\n    }\n\n    onErrorCaptured(e => {\n      error.value = e.message\n    })\n\n    return { form, submit, submitted, error }\n  },\n  components: { UsersList }\n}\n</script>\n"],"sourceRoot":""}]}